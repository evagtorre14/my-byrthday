---
import profilePic from '../assets/IMG_20250820_191849.jpg';
import metroIcon from './metro.png';
---

<section id="bienvenida" class="min-h-screen flex flex-col items-center justify-center text-center p-8 bg-background text-text-primary font-body">
  <div class="max-w-2xl w-full">
    <img 
      src={profilePic.src}
      alt="Foto de la celebración"
      class="w-40 h-40 rounded-full mx-auto mb-6 object-cover border-4 border-primary shadow-lg"
    />

    <h1 class="text-6xl md:text-7xl font-headings font-bold text-primary mb-4">
      ¡Birthday Party!
    </h1>
    <p class="text-xl text-text-primary mb-2">
      Temática: <span class="font-bold text-secondary">Estaciones de metro</span>
    </p>
    <img src={metroIcon.src} alt="Icono de metro" class="w-32 h-auto mx-auto mb-6" />

    <div id="countdown-container" class="bg-white/60 backdrop-blur-sm rounded-xl p-6 mb-8 max-w-sm mx-auto shadow-md">
      <h2 class="text-2xl font-headings font-bold text-secondary mb-2">La diversión comienza en:</h2>
      <div class="text-4xl font-bold text-primary">
        <span id="days">--</span>d : 
        <span id="hours">--</span>h : 
        <span id="minutes">--</span>m : 
        <span id="seconds">--</span>s
      </div>
    </div>

    <div class="text-text-primary">
      <p class="text-2xl font-bold font-headings">Sábado, 30 de Agosto, 2025</p>
      <p class="text-xl mt-2">A las 19:00h</p>
      <p class="text-xl mt-1">en el <span class="font-bold text-primary">"Parque de la Piscina"</span></p>
    </div>
  </div>
</section>

<script>
  const countdownDate = new Date("2025-08-30T19:00:00").getTime();

  const countdownContainer = document.getElementById('countdown-container');
  const daysEl = document.getElementById('days');
  const hoursEl = document.getElementById('hours');
  const minutesEl = document.getElementById('minutes');
  const secondsEl = document.getElementById('seconds');

  const updateCountdown = () => {
    const now = new Date().getTime();
    const distance = countdownDate - now;

    if (distance < 0) {
      if(countdownContainer) {
        countdownContainer.innerHTML = `<h2 class="text-3xl font-headings font-bold text-secondary">¡La fiesta ha comenzado!</h2>`;
      }
      clearInterval(interval);
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    const format = (num) => num.toString().padStart(2, '0');

    if (daysEl) daysEl.innerText = format(days);
    if (hoursEl) hoursEl.innerText = format(hours);
    if (minutesEl) minutesEl.innerText = format(minutes);
    if (secondsEl) secondsEl.innerText = format(seconds);
  };

  const interval = setInterval(updateCountdown, 1000);
  updateCountdown();
</script>